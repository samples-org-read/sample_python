language: python

blahblahblahblab
python:
  - 2.6
#  - 2.7
#  - 3.2
#  - 3.3
#  - 3.4
#  - pypy
  
#after_success:
#  - env
#  - sudo apt-get install software-properties-common
#  - sudo add-apt-repository ppa:ansible/ansible -y
#  - sudo apt-get update
#  - sudo apt-get -y install ansible -y 
#  - sudo apt-get install python-boto -y
#  - sudo ansible --version
#  - ansible-playbook --version
  
install:
  - pip install -r requirements.txt
env:
  - secure: INZ1b796G+FQxdmOD6gcxJ2POcD+L15ItCCR9dl00i46CwPjvp37coohvRw2QYDB5LfjSRffR9wXAvWlkvQ8sYFFkgkt3JxOTtjz2uEvw0bdXJvTxLfSwT1RaL2cExSVDwpVvl0KeAvsy/yIPqHDyuFFDpDGWNUuc4+AhzfB4UOkql85JnadXHnoJzhOppkYb16CuHw15KtZLOlJFlJS7NiPGbZLiPLveI4zs0aBQHJrLy+QJXEI9HSb9McuujSzFU6IW1XAKO7RHW7sAEL0xYfU/uIhS30RrW84sd+n68fNCe5OpsVHlhNRli3R+4666YLrJzWdScN99B1IOKAv8A==
  
# Make folders for the reports
before_script:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage
  - date +"%s"
  - git log --since=$LAST_SUCCESSFUL_BUILD_TIMESTAMP
  - echo $Foo
  - echo $Bar
#  - git log --pretty='%s (%h: %an)' --since=$LAST_SUCCESSFUL_BUILD_TIMESTAMP
  
script:
  - nosetests test.py --with-xunit --xunit-file=shippable/testresults/nosetests.xml
  - which python && coverage run --branch test.py
  - which python && coverage xml -o shippable/codecoverage/coverage.xml test.py

build_image: shippable/minv2
#build_image:
#  name: shippable/minv2
#  net: host
#  privileged: true
#  run_command: 'echo hello cruel world'

    
notifications:
  email:
   - devashish+notify1@shippable.com
